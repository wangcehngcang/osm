<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>学生当前状态</title>
	<link rel="stylesheet" href="font_ps99atp86ak/iconfont.css">
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}

		#tops p {
            height: 60px;
            line-height: 60px;
            font-size: 26px;
            font-family: bold;
            border-bottom: 1px solid black;
            background-color: #20b6ad;
            color: #fff;
        }

        #tops p a {
            text-decoration: none;
            float: left;
            margin-left: 5%;
            margin-right: 15px;
            line-height: 60px;
        }
        #tops a i{
            color: #fff;
            
        }
		.con {
			width: 90%;
			min-height: 500px;
			margin: 0 auto;
		}

		.htop {
			width: 100%;
			height: 100px;
			margin-top: 20px;
		}
		.htop input{
			width:100px;
			height: 30px;
			margin-top: 20px;
			font-size: 18px;
		}
		h3 {
			border-left: 5px solid #000;
			padding-left: 10px;
			margin-bottom: 10px;
		}

		#btn{
			width: 100px;
			height: 33px;
			background: #16ac98;
			border: none;
			color: #fff;
			text-align: center;
			line-height: 30px;
		}

		table {
			width: 100%;
		}

		table tr td {
			height: 30px;
			text-align: center;
		}

		table tr:nth-child(1) {
			background: #16AC98;
			color: #fff;
			font-size: 14px;
		}

		table tr td:nth-child(1) {
			width: 30px;
			text-align: center;
		}

		input[type=checkbox] {
			margin-right: 5px;
			cursor: pointer;
			font-size: 14px;
			width: 15px;
			height: 12px;
			position: relative;
		}

		input[type=checkbox]:after {
			position: absolute;
			width: 10px;
			height: 15px;
			top: 0;
			content: " ";
			background-color: #fff;
			color: #fff;
			display: inline-block;
			visibility: visible;
			padding: 0px 3px;
			border-radius: 3px;
			border: 1px solid #ccc;
		}

		input[type=checkbox]:checked:after {
			content: "✓";
			font-size: 12px;
			color: #000;
		}
		#end_time{
			width: 150px;
		}
	</style>
</head>

<body>
	<div id="tops">
		<p>
			<a href="index.html"><i class="iconfont"></i></a>
			当前学生信息
		</p>
	</div>
	<div class="con">
		<div class="htop">
			<h3>基本信息</h3>
			学生姓名：<input type="text" id="student_name" style="width:8%">
			班级：<input type="text" id="class_room" style="width:8%">
			学号：<input type="text" id="student_number" style="width:8%">
			开始时间：<input type="text" id="start_time" style="border:none;outline: none;width:6%"> 
			结束时间：<input type="date" id="end_time">
			原因：<input type="text" id="reason">
			<button type="button" id="btn">提交</button>
		</div>
		<div class="cent">
			<h3>统计信息</h3>
			<table border="0" cellspacing="0" cellpadding="0">
				<tr>
					<td></td>
					<td>班级</td>
					<td>总人数</td>
					<td>请假人数</td>
					<td>出勤率（假）</td>
					<td>休学人数</td>
					<td>出勤率（请假加休学）</td>
					<td>不就业人数</td>
				</tr>
				<tr>
					<td></td>
					<td>111</td>
					<td>111</td>
					<td>111</td>
					<td>111</td>
					<td>111</td>
					<td>111</td>
					<td>111</td>
				</tr>
			</table>
		</div>
	</div>

</body>
	<script src="js/jquery.js"> </script>
	<script>
		//计算当前时间和日期
		var mydate=new Date();
		var myddy=mydate.getDay();//获取存储当前日期
		var weekday=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
		$('#getday').val(weekday[myddy])
		$(function() {
			setInterval("getTime();", 1000); //每隔一秒运行一次
		})
		//取得系统当前时间
		function getTime() {
			var myDate = new Date();
			var date = myDate.toLocaleDateString();
			// var hours = myDate.getHours();
			// var minutes = myDate.getMinutes();
			// var seconds = myDate.getSeconds();"+hours+":"+minutes+":"+seconds
			$("#start_time").val(date); //将值赋给div
		}


        var href = 'http://localhost:8000';
		// 录入请假名单
		$('#btn').on('click',function(){
			$.ajax({
				type:'get',
				url:href+'/state/luru',
				data:{
					aclass:class_room.value,
					aname:student_name.value,
					anumber:student_number.value,
					astart:start_time.value,
					aend:end_time.value,
					areason:reason.value
				},
				success(data){
					console.log(data)
				}
			})
		})
	</script>
</html>